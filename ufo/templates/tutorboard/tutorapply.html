{% extends 'page/base.html' %}
{% load static %}

{% block contents %}
<h1>{{tutorApply.title}}</h1>
<p>{{tutorApply.content}}</p>
{%if tutorApply.image%}
<img src="{{tutorApply.image.url}}" alt="사진" height=300>
{% endif %}
<p>{{tutorApply.created_at}}</p>
{% if tutorApply.author == user %}
    <a href="{% url 'tutorapplyedit' tutorApply.pk %}">수정</a>
    <a href="{% url 'tutorapplyremove' tutorApply.pk %}">삭제</a>
{% else %}
<p>글 수정 권한이 없습니다.</p>
{% endif %}

<div class='container' style='text-align:center';>
        <!-- # 작성된 comment 보여주기 -->
        <h2><strong>Comments</strong></h2>
        <!-- # details라는 객체에 종속되는 comments객체를 불러서 사용한다. (comment model의 related_name을 사용한다.) -->
        {% for comment in tutorApply.tuteeComments.all %}
            <span>글쓴날짜 : </span>{{comment.created_date}}<br>
            <span>글쓴이 : </span><strong>{{comment.comment_author}}</strong><br>
            <span>글쓴내용 : </span><p>{{comment.comment_contents}}</p>
        <!-- # comment 객체가 하나라도 없으면 아래 출력 -->
        {% empty %}
            <p>No comments here yet </p>
        {% endfor %}
        <!-- # comment 입력받는 폼 생성 -->
        <h2><strong>Create Comments</strong></h2>
        <div class="container">
            <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <input type="submit" value="Submit">
            </form>
        </div>
    </div>

{% endblock %}
